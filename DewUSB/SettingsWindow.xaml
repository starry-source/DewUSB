<ui:FluentWindow xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:local="clr-namespace:DewUSB"
xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
x:Class="DewUSB.SettingsWindow"
mc:Ignorable="d"
MinWidth="300"
Title="设置" MinHeight="350" Width="400"
WindowBackdropType="Mica"
WindowStartupLocation="CenterScreen"
ExtendsContentIntoTitleBar="True"
WindowCornerPreference="Round">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="70"/>
        </Grid.RowDefinitions>
        <ui:TitleBar Title="设置"
	   VerticalAlignment="Top"
	   CanMaximize="False"
	   ShowMaximize="False"
	   ShowMinimize="False"/>
        <ui:DynamicScrollViewer Grid.Row="1">
            <StackPanel Margin="20,10,20,0" x:Name="mainContent" >
                <Button Content="关闭“自动播放”通知" Click="Button_Click" Margin="0,0,0,20"/>
                <ui:CardExpander VerticalAlignment="Stretch" Header="配置" IsExpanded="True" Margin="0,0,0,20">
                    <StackPanel>
                        <ui:ToggleSwitch x:Name="StartWithWindows"
                                    Content="开机自启动"
                                    Margin="0,0,0,10" HorizontalAlignment="Stretch"/>

                        <ui:ToggleSwitch x:Name="MinimizeToTray" IsEnabled="False"
                                    Content="最小化到托盘"
                                    Margin="0,0,0,10" HorizontalAlignment="Stretch"/>
                    </StackPanel>
                </ui:CardExpander>
                <ui:CardExpander Header="外观" IsExpanded="True" Margin="0,0,0,20">
                    <StackPanel>
                        <DockPanel Margin="0,0,0,10">
                            <TextBlock Text="颜色主题" VerticalAlignment="Center"/>
                            <ComboBox x:Name="ThemeSelector" HorizontalAlignment="Right"/>
                        </DockPanel>
                        <ui:ToggleSwitch x:Name="TopMost"
                            Content="始终在最上层"
                            Margin="0,0,0,10" HorizontalAlignment="Stretch"/>
                        <DockPanel Margin="0,0,0,10">
                            <TextBlock Text="默认窗口位置" VerticalAlignment="Center"/>
                            <ComboBox x:Name="Position" HorizontalAlignment="Right"/>
                        </DockPanel>
                    </StackPanel>
                </ui:CardExpander>

            </StackPanel>
        </ui:DynamicScrollViewer>
        <ui:Button x:Name="SaveButton"
                      Content="保存"
                      HorizontalAlignment="Right"
                      Margin="0,0,20,20"
                      Appearance="Primary" VerticalAlignment="Bottom" Grid.Row="2"/>
        <ui:Card x:Name="fly" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Hidden" Grid.Row="1" Background="{x:Null}">
            <StackPanel>
                <TextBlock TextWrapping="Wrap" Margin="10,10,10,0" Text="更改已保存" FontSize="18"></TextBlock>
                <TextBlock TextWrapping="Wrap" Margin="10,5,10,0" Text="部分设置需要重启才能应用。"></TextBlock>
                <DockPanel Margin="0,10,0,0" HorizontalAlignment="Right">
                    <ui:Button Content="立即重启" Click="RestartButton_Click" Margin="0,0,10,0" Appearance="Primary"/>
                    <ui:Button Content="暂不" Click="CancelButton_Click"/>
                </DockPanel>
            </StackPanel>
            
            
        </ui:Card>
    </Grid>
</ui:FluentWindow>